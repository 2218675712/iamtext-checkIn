# iamtext自动网站签到脚本 使用说明

## 脚本功能

这是一个用于自动签到指定网站的 Tampermonkey（油猴）脚本。它可以帮助你每天自动访问设定的签到页面，查找并点击签到按钮，并根据配置检查签到结果。脚本还包含调试功能和自动检查机制。

主要功能包括：

*   **自动签到**: 每天自动访问指定网站并尝试签到。
*   **灵活配置**: 可通过修改脚本顶部的 `CONFIG` 对象来调整签到 URL、按钮选择器、成功标识、签到频率等。
*   **签到结果检查**: 支持通过页面文本或元素来判断签到是否成功。
*   **自动检查**: 可配置在任意网站上进行定期检查，判断是否需要打开签到页面。
*   **通知提示**: 可配置在签到成功或失败时显示通知。
*   **调试模式**: 提供详细日志和调试面板，方便排查问题。
*   **自动关闭页面**: 可配置在签到成功后自动关闭签到页面。

## 如何安装

1.  **安装 Tampermonkey 浏览器扩展**: 如果你还没有安装 Tampermonkey，请根据你使用的浏览器（如 Chrome, Firefox, Edge 等）访问 Tampermonkey 官网 ([https://www.tampermonkey.net/](https://www.tampermonkey.net/)) 或浏览器扩展商店进行安装。
2.  **安装脚本**:
    *   打开 Tampermonkey 扩展的管理面板。
    *   点击“实用工具”或类似的选项卡。
    *   选择“从 URL 安装”或“导入”功能。
    *   将 [`油猴.JS`](油猴.JS) 文件的内容复制粘贴到 Tampermonkey 的编辑器中。
    *   点击保存按钮。

脚本安装完成后，它将在你访问符合 `@match` 规则的网页时运行。

## 如何使用

1.  **配置脚本**:
    *   打开 Tampermonkey 管理面板，找到并点击“iamtext自动网站签到脚本”。
    *   在编辑器中找到 `const CONFIG = { ... }` 部分。
    *   根据你需要签到的网站，修改以下关键配置项：
        *   `signInUrl`: 签到页面的完整 URL。
        *   `signInButtonSelector`: 签到按钮的 CSS 选择器。你可以右键点击网页上的签到按钮，选择“检查”或“审查元素”，然后在开发者工具中找到该元素的唯一选择器。
        *   `successIndicator`: 配置签到成功的标识。
            *   `type`: 设置为 `'text'` 或 `'element'`。
            *   `value`: 如果 `type` 是 `'text'`，这里填写签到成功后页面上会出现的文本（可以是字符串或字符串数组）；如果 `type` 是 `'element'`，这里填写签到成功后页面上会出现的元素的 CSS 选择器。
    *   根据需要调整其他配置项，如签到频率 (`checkInterval`)、自动检查间隔 (`autoCheckInterval`)、是否自动关闭页面 (`autoCloseAfterSuccess`)、是否显示通知 (`showNotification`) 等。
    *   如果你在配置过程中遇到问题，可以启用 `debugMode` 并将 `debug.verbose` 设置为 `true`，然后在浏览器控制台查看详细日志输出。
    *   保存修改后的脚本。

2.  **运行脚本**:
    *   脚本会在你访问任意网页时自动检查是否需要签到（如果 `checkOnAnyWebsite` 为 `true`）。
    *   如果需要签到，脚本会自动在新标签页中打开签到页面并尝试签到。
    *   你也可以直接访问配置的 `signInUrl` 页面，脚本会在页面加载完成后尝试签到。

3.  **调试面板 (如果启用调试模式)**:
    *   如果在 `CONFIG` 中将 `debugMode` 设置为 `true`，签到页面右下角会显示一个调试面板。
    *   调试面板会显示当前的签到状态、上次签到时间等信息。
    *   你可以使用面板上的按钮手动触发签到、重置签到时间或查找页面上的按钮，方便调试。

## 注意事项

*   **网站结构变化**: 如果目标网站的签到流程、签到按钮选择器或成功标识发生变化，脚本可能无法正常工作，你需要更新脚本配置。
*   **浏览器运行**: 脚本需要在浏览器中运行，并且 Tampermonkey 扩展需要保持启用状态。
*   **多标签页**: 脚本可能会在新标签页中打开签到页面，请注意你的浏览器设置是否允许弹出窗口或新标签页。
*   **GM 函数**: 脚本使用了 Tampermonkey 提供的 `GM_` 函数，确保你的 Tampermonkey 版本支持这些函数。
*   **调试模式**: 调试模式会输出较多日志，仅在需要调试时启用。

如果你在使用过程中遇到任何问题，请检查脚本配置是否正确，或者在启用调试模式后查看控制台输出。